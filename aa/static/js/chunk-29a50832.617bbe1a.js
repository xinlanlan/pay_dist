(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-29a50832"],{fb9c:function(e,t,r){"use strict";r.r(t);var n=r("61f7"),a=r("fd28"),s={data:function(){return{ruleForm:{uid:"",token:"",nickname:"",username:"",balance:0,rate:""},rules:{nickname:[{required:!0,validator:n.d,trigger:"blur"}],username:[{required:!0,validator:n.g,trigger:"blur"}]}}},mounted:function(){this._getOwnInfo()},methods:{_getOwnInfo:function(){var e=this;Object(a.b)().then(function(t){0==t.code&&(e.ruleForm.uid=t.data.uid,e.ruleForm.token=t.data.token,e.ruleForm.nickname=t.data.nickname,e.ruleForm.balance=t.data.balance,e.ruleForm.username=t.data.username,e.ruleForm.rate=t.data.rate+"‰")})},vaildBaseInfo:function(e){var t=this;this.$refs[e].validate(function(e){e&&t._editUserInfo(t.ruleForm)})},_editUserInfo:function(e){var t=this,r={nickname:e.nickname,username:e.username};Object(a.a)(r).then(function(e){0===e.code?(t.$message.success("修改成功"),t.$store.dispatch("user/_getInfo").then(function(e){})):t.$message.error(e.message)}).catch(function(e){t.$message.error("修改失败")})}}},o=r("2877"),l=Object(o.a)(s,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"className"},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("基本信息")])]),r("el-form",{ref:"baseInfoForm",staticClass:"form-center-wrapper",attrs:{"label-width":"80px",rules:e.rules,model:e.ruleForm}},[r("el-form-item",{attrs:{label:"UID"}},[r("div",{staticClass:"disabled-input"},[e._v(e._s(e.ruleForm.uid))])]),r("el-form-item",{attrs:{label:"TOKEN"}},[r("div",{staticClass:"disabled-input"},[e._v(e._s(e.ruleForm.token))])]),r("el-form-item",{attrs:{label:"姓名",prop:"nickname"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.nickname,callback:function(t){e.$set(e.ruleForm,"nickname",t)},expression:"ruleForm.nickname"}})],1),r("el-form-item",{attrs:{label:"账户名称",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入登录账户名称"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"账户余额"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.balance,callback:function(t){e.$set(e.ruleForm,"balance",t)},expression:"ruleForm.balance"}})],1),r("el-form-item",{attrs:{label:"费率"}},[r("div",{staticClass:"disabled-input"},[e._v(e._s(e.ruleForm.rate))])]),r("el-form-item",{staticClass:"save-btn-item"},[r("el-button",{staticClass:"saveBtn",attrs:{type:"primary"},on:{click:function(t){return e.vaildBaseInfo("baseInfoForm")}}},[e._v("保存修改")])],1)],1)],1)],1)},[],!1,null,"b081502c",null);t.default=l.exports},fd28:function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"e",function(){return o}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return u});var n=r("365c");function a(){return n.a.post("/getOwnInfo")}function s(e){return n.a.post("/editUserInfo",e)}function o(e){return n.a.post("/updatePassword",e)}function l(){return n.a.get("/createToken")}function u(e){return n.a.post("/resetToken",e)}}}]);