(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5d592482"],{"184d":function(e,t,a){"use strict";var n=a("3954");a.n(n).a},"1a90":function(e,t,a){"use strict";function n(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(9<t.getMonth()+1?t.getMonth()+1:"0"+(t.getMonth()+1))+"-"+(9<t.getDate()?t.getDate():"0"+t.getDate())+" "+(9<t.getHours()?t.getHours():"0"+t.getHours())+":"+(9<t.getMinutes()?t.getMinutes():"0"+t.getMinutes())+":"+(9<t.getSeconds()?t.getSeconds():"0"+t.getSeconds())}function r(){return{startTime:new Date((new Date).setHours(0,0,0,0)).getTime(),endTime:(new Date).getTime()}}a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r})},3954:function(e,t,a){},8564:function(e,t,a){"use strict";a.d(t,"h",function(){return r}),a.d(t,"l",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"d",function(){return l}),a.d(t,"i",function(){return s}),a.d(t,"f",function(){return d}),a.d(t,"e",function(){return c}),a.d(t,"b",function(){return u}),a.d(t,"k",function(){return p}),a.d(t,"g",function(){return f}),a.d(t,"m",function(){return m}),a.d(t,"n",function(){return h}),a.d(t,"c",function(){return b}),a.d(t,"j",function(){return g});var n=a("365c");function r(){return n.a.get("/getshapeCodeExpiresTime")}function o(e){return n.a.post("/shapeCodeExpiresTime",e)}function i(e){return n.a.post("/addShapeCode",e)}function l(e){return n.a.post("/editShapeCodeInfo",e)}function s(e){return n.a.post("/getshapeCodeList",e)}function d(e){return n.a.post("/getShapeCodeInfo",e)}function c(e){return n.a.post("/forbiddenShapeCode",e)}function u(e){return n.a.post("/delShapeCode",e)}function p(e){return n.a.post("/setCustomerChannel",e)}function f(e){return n.a.post("/getUserChannelList",e)}function m(e){return n.a.post("/updatecustomerDepositState",e)}function h(e){return n.a.post("https://ccdcapi.alipay.com/validateAndCacheCardInfo.json",e)}function b(e){return n.a.post("/depositReordList",e)}function g(e){return n.a.post("/handmoveConfirmOrder",e)}},a717:function(e,t,a){"use strict";var n={},r=a("2877"),o=Object(r.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-option",{attrs:{label:"微信个码",value:"wechat"}}),t("el-option",{attrs:{label:"支付宝个码",value:"alipay"}}),t("el-option",{attrs:{label:"支付宝转账",value:"alipay-transfer"}}),t("el-option",{attrs:{label:"支付宝转卡",value:"alipay-bank"}}),t("el-option",{attrs:{label:"云闪付",value:"unionpay"}}),t("el-option",{attrs:{label:"农信易扫",value:"buybalpay"}})],1)},[],!1,null,null,null);t.a=o.exports},aa77:function(e,t,a){function n(e,t,a){var n={},o=i(function(){return!!l[e]()||"​"!="​"[e]()}),s=n[e]=o?t(u):l[e];a&&(n[a]=s),r(r.P+r.F*o,"String",n)}var r=a("5ca1"),o=a("be13"),i=a("79e5"),l=a("fdef"),s="["+l+"]",d=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=n.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(d,"")),2&t&&(e=e.replace(c,"")),e};e.exports=n},b1f3:function(e,t,a){"use strict";var n={props:{channel:{type:String}},filters:{channelText:function(e){if(void 0!==e)return"wechat"===e?"微信个码":"alipay"===e?"支付宝个码":"alipay-transfer"===e?"支付宝转账":"alipay-bank"===e?"支付宝转卡":"unionpay"===e?"云闪付":"buybalpay"===e?"农信易扫":"异常"}}},r=a("2877"),o=Object(r.a)(n,function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{channel:e.channel}},[e._v("\n  "+e._s(e._f("channelText")(e.channel))+"\n")])},[],!1,null,null,null);t.a=o.exports},c5f6:function(e,t,a){"use strict";function n(e){var t=s(e,!1);if("string"==typeof t&&2<t.length){var a,n,r,o=(t=v?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(a=t.charCodeAt(2))||120===a)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var i,l=t.slice(2),d=0,c=l.length;d<c;d++)if((i=l.charCodeAt(d))<48||r<i)return NaN;return parseInt(l,n)}}return+t}var r=a("7726"),o=a("69a8"),i=a("2d95"),l=a("5dbc"),s=a("6a99"),d=a("79e5"),c=a("9093").f,u=a("11e9").f,p=a("86cc").f,f=a("aa77").trim,m="Number",h=r[m],b=h,g=h.prototype,C=i(a("2aeb")(g))==m,v="trim"in String.prototype;if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof h&&(C?d(function(){g.valueOf.call(a)}):i(a)!=m)?l(new b(n(t)),a,h):n(t)};for(var k,I=a("9e1e")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;I.length>S;S++)o(b,k=I[S])&&!o(h,k)&&p(h,k,u(b,k));(h.prototype=g).constructor=h,a("2aba")(r,m,h)}},ebb7:function(e,t,a){"use strict";a.r(t),a("c5f6");var n=a("1a90"),r=a("61f7"),o=a("b1f3"),i=a("a717"),l=a("8564"),s={data:function(){return{channel:"",tablePage:[],pageNo:1,pageSize:10,total:0,showType:"",editCodeIsShow:!1,rowIndex:-1,editCodeForm:{channel:"",quota:0,bankAccount:"",cardNo:"",bankName:"",bankMark:"",cardIndex:"",phoneNumber:"",userid:"",shapeCodeString:"",codeRemark:""},editCodeRules:{channel:[{required:!0,message:"请选择通道类型",trigger:"blur"}],quota:[{required:!0,validator:r.b,minVal:10,trigger:"blur"}],bankAccount:[{required:!0,message:"请输入银行卡姓名",trigger:"blur"}],cardNo:[{required:!0,message:"请输入银行卡号",trigger:"blur"}],bankName:[{required:!0,message:"请输入银行名称",trigger:"blur"}],bankMark:[{required:!0,message:"请输入银行简写",trigger:"blur"}],cardIndex:[{required:!0,message:"请输入cardIndex",trigger:"blur"}],phoneNumber:[{required:!0,validator:r.f,trigger:"blur"}],userid:[{required:!0,message:"请输入支付宝userid",trigger:"blur"}],shapeCodeString:[{required:!0,message:"请输入二维码字符串",trigger:"blur"}],codeRemark:[{required:!0,message:"请为这个二维码添加备注",trigger:"blur"}]}}},mounted:function(){this._getshapeCodeList()},methods:{_GMTToStr:function(e,t){return Object(n.a)(Number(e[t.property]))},_getshapeCodeList:function(){var e=this,t={pageNo:this.pageNo};this.channel&&(t.channel=this.channel),Object(l.i)(t).then(function(t){0===t.code?(e.total=t.data.totalCount,e.tablePage=t.data.payDetailList):e.$message.error("获取列表失败")})},_forbiddenShapeCode:function(e){var t=this,a=0===e.state?1:0;Object(l.e)({id:e.codeId,state:a}).then(function(n){0===n.code?(e.state=a,t.$message.success("更改状态成功")):t.$message.error("更改状态失败")}).catch(function(e){t.$message.error("更改状态失败")})},searchTab:function(){this.pageNo=1,this._getshapeCodeList()},editCodeInfo:function(e,t){this.showType=t.channel,this.rowIndex=e,Object.assign(this.editCodeForm,{channel:t.channel,quota:t.quota,codeId:t.codeId}),this._getShapeCodeInfo({id:t.codeId,channel:t.channel})},cancelEdit:function(){this.editCodeIsShow=!1},handlePage:function(e){this.pageNo=e,this._getshapeCodeList()},_getShapeCodeInfo:function(e){var t=this;Object(l.f)(e).then(function(e){0===e.code?(t.editCodeIsShow=!0,Object.assign(t.editCodeForm,e.data)):(t.editCodeIsShow=!1,t.$message.error("获取二维码信息失败"))})},_delShapeCode:function(e,t){var a=this;Object(l.b)({id:e,channel:t}).then(function(e){0===e.code?(a.$message.success("删除成功"),a._getshapeCodeList()):a.$message.error("删除失败")}).catch(function(e){a.$message.error("删除失败")})},updateCodeInfo:function(e){var t=this;this.$refs[e].validate(function(e){e&&t._editShapeCodeInfo(t.editCodeForm)})},_editShapeCodeInfo:function(e){var t=this;Object(l.d)(e).then(function(e){0===e.code?(t._getshapeCodeList(),t.$notify({title:"成功",message:"编辑成功",type:"success"}),t.editCodeIsShow=!1):t.$message.error("编辑失败")})}},watch:{editCodeIsShow:function(e){e||this.$refs.editCodeForm.resetFields()}},components:{ChannelSelTag:i.a,channelTextTag:o.a}},d=(a("184d"),a("2877")),c=Object(d.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"className"},[a("el-card",{staticClass:"anoCard"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("二维码列表")])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择通道类型"},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}},[a("channel-sel-tag")],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchTab()}}},[e._v("搜索")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.tablePage,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"codeId",label:"二维码codeId",width:"150"}}),a("el-table-column",{attrs:{prop:"codeRemark",label:"备注"}}),a("el-table-column",{attrs:{prop:"channelName",label:"收款通道"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("channel-text-tag",{attrs:{channel:e.row.channel}})]}}])}),a("el-table-column",{attrs:{prop:"quota",label:"每日收款限额"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:e._GMTToStr}}),a("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{staticClass:"spc_disabled",attrs:{"active-text":"启用","inactive-text":"禁用","active-value":0,"inactive-value":1,disabled:""},nativeOn:{click:function(a){return e._forbiddenShapeCode(t.row)}},model:{value:t.row.state,callback:function(a){e.$set(t.row,"state",a)},expression:"scope.row.state"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.editCodeInfo(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e._delShapeCode(t.row.codeId,t.row.channel)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"f-pagination",attrs:{background:"",layout:"total, prev, pager, next","page-size":e.pageSize,"current-page":e.pageNo,total:e.total},on:{"current-change":e.handlePage}})],1),a("el-dialog",{attrs:{title:"编辑二维码信息",visible:e.editCodeIsShow},on:{"update:visible":function(t){e.editCodeIsShow=t}}},[a("el-form",{ref:"editCodeForm",attrs:{"label-width":"120px",rules:e.editCodeRules,model:e.editCodeForm}},[a("el-form-item",{attrs:{label:"收款限额",prop:"quota"}},[a("el-input",{attrs:{placeholder:"请输入每日收款限额"},model:{value:e.editCodeForm.quota,callback:function(t){e.$set(e.editCodeForm,"quota",t)},expression:"editCodeForm.quota"}})],1),"alipay-bank"===e.showType?a("div",[a("el-form-item",{attrs:{label:"银行卡姓名",prop:"bankAccount"}},[a("el-input",{attrs:{placeholder:"请输入银行卡姓名"},model:{value:e.editCodeForm.bankAccount,callback:function(t){e.$set(e.editCodeForm,"bankAccount",t)},expression:"editCodeForm.bankAccount"}})],1),a("el-form-item",{attrs:{label:"银行卡号",prop:"cardNo"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.editCodeForm.cardNo,callback:function(t){e.$set(e.editCodeForm,"cardNo",t)},expression:"editCodeForm.cardNo"}})],1),a("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[a("el-input",{attrs:{placeholder:"请输入银行名称"},model:{value:e.editCodeForm.bankName,callback:function(t){e.$set(e.editCodeForm,"bankName",t)},expression:"editCodeForm.bankName"}})],1),a("el-form-item",{attrs:{label:"银行简写",prop:"bankMark"}},[a("el-input",{attrs:{placeholder:"请输入银行简写"},model:{value:e.editCodeForm.bankMark,callback:function(t){e.$set(e.editCodeForm,"bankMark",t)},expression:"editCodeForm.bankMark"}})],1),a("el-form-item",{attrs:{label:"cardIndex",prop:"cardIndex"}},[a("el-input",{attrs:{placeholder:"请输入cardIndex"},model:{value:e.editCodeForm.cardIndex,callback:function(t){e.$set(e.editCodeForm,"cardIndex",t)},expression:"editCodeForm.cardIndex"}})],1),a("el-form-item",{attrs:{label:"短信手机号码",prop:"phoneNumber"}},[a("el-input",{attrs:{placeholder:"请输入该银行卡的接受短信的手机号码"},model:{value:e.editCodeForm.phoneNumber,callback:function(t){e.$set(e.editCodeForm,"phoneNumber",t)},expression:"editCodeForm.phoneNumber"}})],1)],1):"alipay-transfer"===e.showType?a("div",[a("el-form-item",{attrs:{label:"支付宝userid",prop:"userid"}},[a("el-input",{attrs:{placeholder:"请输入支付宝userid"},model:{value:e.editCodeForm.userid,callback:function(t){e.$set(e.editCodeForm,"userid",t)},expression:"editCodeForm.userid"}})],1)],1):a("div",[a("el-form-item",{attrs:{label:"二维码字符串",prop:"shapeCodeString"}},[a("el-input",{attrs:{placeholder:"请输入二维码字符串"},model:{value:e.editCodeForm.shapeCodeString,callback:function(t){e.$set(e.editCodeForm,"shapeCodeString",t)},expression:"editCodeForm.shapeCodeString"}})],1),a("el-form-item",{attrs:{label:"二维码转化"}},[a("el-tooltip",{attrs:{content:"将转化的字符串结果粘贴到上面的输入框中",placement:"bottom"}},[a("el-link",{attrs:{href:"https://jiema.wwei.cn/",target:"_blank"}},[a("el-button",{attrs:{plain:""}},[e._v("点此进行二维转化")])],1)],1)],1)],1),a("el-form-item",{attrs:{label:"二维码备注",prop:"codeRemark"}},[a("el-input",{attrs:{placeholder:"请为这个二维码添加备注"},model:{value:e.editCodeForm.codeRemark,callback:function(t){e.$set(e.editCodeForm,"codeRemark",t)},expression:"editCodeForm.codeRemark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateCodeInfo("editCodeForm")}}},[e._v("提交")]),a("el-button",{attrs:{type:"warning"},on:{click:e.cancelEdit}},[e._v("取消")])],1)],1)],1)],1)},[],!1,null,null,null);t.default=c.exports},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);