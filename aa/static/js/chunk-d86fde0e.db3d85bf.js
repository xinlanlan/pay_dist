(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d86fde0e"],{"1b41":function(t,e,n){"use strict";n.r(e),n("c5f6"),n("61f7");var a=n("f6b0"),r=n("8564"),i={data:function(){return{pageNo:1,pageSize:10,total:0,tablePage:[],channelList:[],setRowUid:"",multipleSelection:[],diaIsShow:!1,rowIndex:0}},mounted:function(){this._getCustomerList()},methods:{_getCustomerList:function(){var t=this;Object(a.d)({pageNo:this.pageNo}).then(function(e){0===e.code?(t.tablePage=e.data.userList,t.total=e.data.totalCount):t.$message.error("获取列表失败")})},handlePage:function(t){this.pageNo=t,this._getCustomerList()},_changeCustomerState:function(t,e,n){var r=this;Object(a.b)({uid:e,state:!n}).then(function(e){0===e.code?(r.tablePage[t].state=!n,r.$message.success("修改成功")):r.$message.error(e.message)}).catch(function(t){r.$message.error("修改失败")})},editTable:function(t,e){this._getUserChannelList(e.uid),this.rowIndex=t,this.setRowUid=e.uid},_getUserChannelList:function(t){var e=this;Object(r.g)({uid:t}).then(function(t){0===t.code?(e.diaIsShow=!0,e.channelList=t.data,e.$nextTick(function(){for(var t=0;t<e.channelList.length;t++)e.$refs.channelTable.toggleRowSelection(e.channelList[t],e.channelList[t].use)})):(e.$message.error(t.message),e.diaIsShow=!1)})},_setCustomerChannel:function(){var t=this,e={uid:this.setRowUid,channelList:JSON.stringify(this.handleSubmitData())};Object(r.k)(e).then(function(e){0===e.code?t.$notify({title:"成功",message:"通道设置成功",type:"success"}):t.$message.error("通道设置失败，请稍后重试"),t.diaIsShow=!1})},handleSelectionChange:function(t){this.multipleSelection=t},handleSubmitData:function(){for(var t=0;t<this.channelList.length;t++){var e=this.channelList[t].channel;this.channelList[t].rate=Number(this.channelList[t].rate),this.channelList[t].use=!1;for(var n=0;n<this.multipleSelection.length;n++)e===this.multipleSelection[n].channel&&(this.channelList[t].use=!0)}return this.channelList}},watch:{diaIsShow:function(t){t||this.$refs.channelTable.clearSelection()}},components:{channelTextTag:n("b1f3").a}},o=(n("7f71"),n("2877")),s=Object(o.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"className"},[n("el-card",{staticClass:"anoCard"},[n("div",{attrs:{slot:"header"},slot:"header"},[t._v("客户列表")]),n("el-table",{attrs:{data:t.tablePage,stripe:"",border:""}},[n("el-table-column",{attrs:{prop:"uid",label:"商户UID",width:"100"}}),n("el-table-column",{attrs:{prop:"nickname",label:"姓名"}}),n("el-table-column",{attrs:{prop:"username",label:"账户名称"}}),n("el-table-column",{attrs:{prop:"balance",label:"商户余额"}}),n("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{staticClass:"spc_disabled",attrs:{disabled:"","active-text":"启用","inactive-text":"禁用"},nativeOn:{click:function(n){return t._changeCustomerState(e.$index,e.row.uid,e.row.state)}},model:{value:e.row.state,callback:function(n){t.$set(e.row,"state",n)},expression:"scope.row.state"}})]}}])}),n("el-table-column",{attrs:{label:"设置通道和费率"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){return t.editTable(e.$index,e.row)}}},[t._v("设置通道和费率")])]}}])})],1),n("el-pagination",{staticClass:"f-pagination",attrs:{background:"",layout:"total, prev, pager, next","page-size":t.pageSize,"current-page":t.pageNo,total:t.total},on:{"current-change":t.handlePage}})],1),n("el-dialog",{staticClass:"diaForm",attrs:{title:"设置通道和费率",visible:t.diaIsShow},on:{"update:visible":function(e){t.diaIsShow=e}}},[n("el-table",{ref:"channelTable",staticStyle:{width:"100%"},attrs:{data:t.channelList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"80",checkbox:"true"}}),n("el-table-column",{attrs:{prop:"channel",label:"通道"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("channel-text-tag",{attrs:{channel:t.row.channel}})]}}])}),n("el-table-column",{attrs:{label:"费率"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:20}},[n("el-input",{attrs:{type:"number",min:"0"},model:{value:e.row.rate,callback:function(n){t.$set(e.row,"rate",n)},expression:"scope.row.rate"}})],1),n("el-col",{staticClass:"rate-span",attrs:{span:4}},[t._v("‰")])],1)]}}])})],1),n("div",{staticClass:"setBtnRow"},[n("el-button",{attrs:{type:"primary"},on:{click:t._setCustomerChannel}},[t._v("提交修改")])],1)],1)],1)},[],!1,null,"864f9194",null);e.default=s.exports},"2bfc":function(t,e,n){},"7f71":function(t,e,n){"use strict";var a=n("2bfc");n.n(a).a},8564:function(t,e,n){"use strict";n.d(e,"h",function(){return r}),n.d(e,"l",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"i",function(){return c}),n.d(e,"f",function(){return u}),n.d(e,"e",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"g",function(){return h}),n.d(e,"m",function(){return p}),n.d(e,"n",function(){return b}),n.d(e,"c",function(){return g}),n.d(e,"j",function(){return m});var a=n("365c");function r(){return a.a.get("/getshapeCodeExpiresTime")}function i(t){return a.a.post("/shapeCodeExpiresTime",t)}function o(t){return a.a.post("/addShapeCode",t)}function s(t){return a.a.post("/editShapeCodeInfo",t)}function c(t){return a.a.post("/getshapeCodeList",t)}function u(t){return a.a.post("/getShapeCodeInfo",t)}function l(t){return a.a.post("/forbiddenShapeCode",t)}function f(t){return a.a.post("/delShapeCode",t)}function d(t){return a.a.post("/setCustomerChannel",t)}function h(t){return a.a.post("/getUserChannelList",t)}function p(t){return a.a.post("/updatecustomerDepositState",t)}function b(t){return a.a.post("https://ccdcapi.alipay.com/validateAndCacheCardInfo.json",t)}function g(t){return a.a.post("/depositReordList",t)}function m(t){return a.a.post("/handmoveConfirmOrder",t)}},aa77:function(t,e,n){function a(t,e,n){var a={},i=o(function(){return!!s[t]()||"​"!="​"[t]()}),c=a[t]=i?e(f):s[t];n&&(a[n]=c),r(r.P+r.F*i,"String",a)}var r=n("5ca1"),i=n("be13"),o=n("79e5"),s=n("fdef"),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=a.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=a},b1f3:function(t,e,n){"use strict";var a={props:{channel:{type:String}},filters:{channelText:function(t){if(void 0!==t)return"wechat"===t?"微信个码":"alipay"===t?"支付宝个码":"alipay-transfer"===t?"支付宝转账":"alipay-bank"===t?"支付宝转卡":"unionpay"===t?"云闪付":"buybalpay"===t?"农信易扫":"异常"}}},r=n("2877"),i=Object(r.a)(a,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{channel:t.channel}},[t._v("\n  "+t._s(t._f("channelText")(t.channel))+"\n")])},[],!1,null,null,null);e.a=i.exports},c5f6:function(t,e,n){"use strict";function a(t){var e=c(t,!1);if("string"==typeof e&&2<e.length){var n,a,r,i=(e=C?e.trim():h(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+e}for(var o,s=e.slice(2),u=0,l=s.length;u<l;u++)if((o=s.charCodeAt(u))<48||r<o)return NaN;return parseInt(s,a)}}return+e}var r=n("7726"),i=n("69a8"),o=n("2d95"),s=n("5dbc"),c=n("6a99"),u=n("79e5"),l=n("9093").f,f=n("11e9").f,d=n("86cc").f,h=n("aa77").trim,p="Number",b=r[p],g=b,m=b.prototype,v=o(n("2aeb")(m))==p,C="trim"in String.prototype;if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof b&&(v?u(function(){m.valueOf.call(n)}):o(n)!=p)?s(new g(a(e)),n,b):a(e)};for(var S,w=n("9e1e")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;w.length>_;_++)i(g,S=w[_])&&!i(b,S)&&d(b,S,f(g,S));(b.prototype=m).constructor=b,n("2aba")(r,p,b)}},f6b0:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return s});var a=n("365c");function r(t){return a.a.post("/addCustomer",t)}function i(t){return a.a.get("/getCustomerList",t)}function o(t){return a.a.post("/editCustomer",t)}function s(t){return a.a.post("/changeCustomerState",t)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);