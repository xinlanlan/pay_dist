(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-223cf0a0"],{"016b":function(e,r,t){"use strict";t.r(r);var a=t("61f7"),n=t("fd28"),l={data:function(){return{ruleForm:{uid:"",token:"",nickname:"",username:"",balance:0,callbackUrl:""},rules:{nickname:[{required:!0,validator:a.d,trigger:"blur"}],username:[{required:!0,validator:a.g,trigger:"blur"}],callbackUrl:[{required:!0,message:"请输入回调地址",trigger:"blur"}]}}},mounted:function(){this._getOwnInfo()},methods:{_getOwnInfo:function(){var e=this;Object(n.b)().then(function(r){0==r.code&&(e.ruleForm.uid=r.data.uid,e.ruleForm.token=r.data.token,e.ruleForm.nickname=r.data.nickname,e.ruleForm.username=r.data.username,e.ruleForm.balance=r.data.balance,e.ruleForm.callbackUrl=r.data.callbackUrl)})},vaildBaseInfo:function(e){var r=this;this.$refs[e].validate(function(e){e&&r._editUserInfo(r.ruleForm)})},_editUserInfo:function(e){var r=this;e.nickname,e.username,e.callbackUrl,Object(n.a)(e).then(function(e){0===e.code?(r.$message.success("修改成功"),r.$store.dispatch("user/_getInfo").then(function(e){})):r.$message.error(e.message)}).catch(function(e){r.$message.error("修改失败")})}}},o=t("2877"),s=Object(o.a)(l,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"className"},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[e._v("基本信息")])]),t("el-form",{ref:"baseInfoForm",staticClass:"form-center-wrapper",attrs:{"label-width":"80px",rules:e.rules,model:e.ruleForm}},[t("el-form-item",{attrs:{label:"UID"}},[t("div",{staticClass:"disabled-input"},[e._v(e._s(e.ruleForm.uid))])]),t("el-form-item",{attrs:{label:"TOKEN"}},[t("div",{staticClass:"disabled-input"},[e._v(e._s(e.ruleForm.token))])]),t("el-form-item",{attrs:{label:"姓名",prop:"nickname"}},[t("el-input",{attrs:{placeholder:"请输入姓名","prefix-icon":"el-icon-user"},model:{value:e.ruleForm.nickname,callback:function(r){e.$set(e.ruleForm,"nickname",r)},expression:"ruleForm.nickname"}})],1),t("el-form-item",{attrs:{label:"账户名称",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入登录账户名称","prefix-icon":"el-icon-phone"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),t("el-form-item",{attrs:{label:"回调地址",prop:"callbackUrl"}},[t("el-input",{attrs:{placeholder:"请输入完整的回调地址(带http://前缀)","prefix-icon":"el-icon-link"},model:{value:e.ruleForm.callbackUrl,callback:function(r){e.$set(e.ruleForm,"callbackUrl",r)},expression:"ruleForm.callbackUrl"}})],1),t("el-form-item",{attrs:{label:"账户余额"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.balance,callback:function(r){e.$set(e.ruleForm,"balance",r)},expression:"ruleForm.balance"}})],1),t("el-form-item",{staticClass:"save-btn-item"},[t("el-button",{staticClass:"saveBtn",attrs:{type:"primary"},on:{click:function(r){return e.vaildBaseInfo("baseInfoForm")}}},[e._v("保存修改")])],1)],1)],1)],1)},[],!1,null,"577e1558",null);r.default=s.exports},fd28:function(e,r,t){"use strict";t.d(r,"b",function(){return n}),t.d(r,"a",function(){return l}),t.d(r,"e",function(){return o}),t.d(r,"c",function(){return s}),t.d(r,"d",function(){return c});var a=t("365c");function n(){return a.a.post("/getOwnInfo")}function l(e){return a.a.post("/editUserInfo",e)}function o(e){return a.a.post("/updatePassword",e)}function s(){return a.a.get("/createToken")}function c(e){return a.a.post("/resetToken",e)}}}]);